
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>June 2022 Update &#8212; Velox  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/nature.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="May 2022 Update" href="may-2022.html" />
    <link rel="prev" title="July 2022 Update" href="july-2022.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="may-2022.html" title="May 2022 Update"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="july-2022.html" title="July 2022 Update"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Velox  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../monthly-updates.html" >Monthly Updates</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2022</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">June 2022 Update</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="june-2022-update">
<h1>June 2022 Update<a class="headerlink" href="#june-2022-update" title="Permalink to this heading">¶</a></h1>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add documentation for <a class="reference internal" href="../../develop/view-and-writer-types.html#outputs-write"><span class="std std-ref">complex types writers</span></a>.</p></li>
</ul>
</section>
<section id="core-library">
<h2>Core Library<a class="headerlink" href="#core-library" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add support for INTERVAL DAY TO SECOND Presto type.</p></li>
<li><p>Allow cast between DATE and TIMESTAMP types.</p></li>
<li><p>Allow cast from JSON to scalar, ARRAY, and MAP types.</p></li>
<li><p>Add <a class="reference internal" href="../../develop/operators.html#groupidnode"><span class="std std-ref">GroupIdNode</span></a> and GroupId operator to support aggregations over grouping sets.</p></li>
<li><p>Add support for function signatures with DECIMAL input and return types using flex and bison to evaluate formulas for calculating the return precision and scale based on input precisions and scales.</p></li>
<li><p>Add support for conversion of DuckDB DECIMALS to Velox DECIMALS.</p></li>
<li><p>Add support for running tasks on the caller’s thread.</p></li>
<li><p>Fix expression evaluation to disable sub-expression optimization for non-deterministic functions.</p></li>
</ul>
</section>
<section id="presto-functions">
<h2>Presto Functions<a class="headerlink" href="#presto-functions" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add <a class="reference internal" href="../../functions/presto/math.html#degrees" title="degrees"><code class="xref py py-func docutils literal notranslate"><span class="pre">degrees()</span></code></a>, <a class="reference internal" href="../../functions/presto/math.html#e" title="e"><code class="xref py py-func docutils literal notranslate"><span class="pre">e()</span></code></a>, and <a class="reference internal" href="../../functions/presto/binary.html#sha512" title="sha512"><code class="xref py py-func docutils literal notranslate"><span class="pre">sha512()</span></code></a> functions.</p></li>
<li><p>Add aggregate function <a class="reference internal" href="../../functions/presto/aggregate.html#map_union" title="map_union"><code class="xref py py-func docutils literal notranslate"><span class="pre">map_union()</span></code></a>.</p></li>
<li><p>Optimize <a class="reference internal" href="../../functions/presto/array.html#zip" title="zip"><code class="xref py py-func docutils literal notranslate"><span class="pre">zip()</span></code></a> for the case when all arrays are flat and the same size.</p></li>
<li><p>Extend <a class="reference internal" href="../../functions/presto/math.html#plus" title="plus"><code class="xref py py-func docutils literal notranslate"><span class="pre">plus()</span></code></a>, <a class="reference internal" href="../../functions/presto/math.html#minus" title="minus"><code class="xref py py-func docutils literal notranslate"><span class="pre">minus()</span></code></a> functions to support DATE, INTERVAL DAY TO SECOND argument types.</p></li>
</ul>
</section>
<section id="hive-connector">
<h2>Hive Connector<a class="headerlink" href="#hive-connector" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add support for reading files from HDFS.</p></li>
<li><p>Add limited ORC support.</p></li>
<li><p>Optimize <cite>NOT IN (&lt;list of integers&gt;)</cite> filters pushed down into DWRF reader.</p></li>
</ul>
</section>
<section id="tpc-h-connector">
<h2>TPC-H Connector<a class="headerlink" href="#tpc-h-connector" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add <cite>totalParts</cite> and <cite>partNumber</cite> to TpchSplit.</p></li>
</ul>
</section>
<section id="performance-and-correctness">
<h2>Performance and Correctness<a class="headerlink" href="#performance-and-correctness" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add q3 to TPC-H benchmark.</p></li>
<li><p>Add utility to benchmark dataset generation speed to TPC-H connector.</p></li>
<li><p>Optimize constant aggregation mask.</p></li>
<li><p>Optimize VectorWriter for a subset of simple functions that return strings.</p></li>
<li><p>Optimize DictionaryVector wrapping LazyVector to load only necessary rows.</p></li>
</ul>
</section>
<section id="debugging-experience">
<h2>Debugging Experience<a class="headerlink" href="#debugging-experience" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Separate the user exception stack from the runtime exception stack trace collection control.</p></li>
</ul>
</section>
<section id="credits">
<h2>Credits<a class="headerlink" href="#credits" title="Permalink to this heading">¶</a></h2>
<p>Adam Simpkins, Aditi Pandit, Amit Dutta, Behnam Robatmili, Chad Austin,
Connor Devlin, Daniel Ng, Dark Knight, Deepak Majeti, Denis Yaroshevskiy,
Huameng Jiang, Jake Jung, Jialiang Tan, Jie1 Zhang, Jimmy Lu, Karteek Murthy,
Katie Mancini, Ke Jia, Kevin Wilfong, Krishna Pai, Laith Sakka, Masha Basmanova,
Michael Shang, Mindaugas Rukas, Orri Erling, Patrick Stuedi, Paul Saab,
Pedro Eugenio Rocha Pedreira, Pramod Sathyanarayana, Sahana CB, Sergey Pershin,
Wei He, Xavier Deguillard, Xiaoxuan Meng, Yating Zhou, Yoav Helfman, Zeyi (Rice) Fan,
Zhenyuan Zhao, artem.malyshev, benitakbritto, frankobe, usurai, yingsu00, zhaozhenhui</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">June 2022 Update</a><ul>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#core-library">Core Library</a></li>
<li><a class="reference internal" href="#presto-functions">Presto Functions</a></li>
<li><a class="reference internal" href="#hive-connector">Hive Connector</a></li>
<li><a class="reference internal" href="#tpc-h-connector">TPC-H Connector</a></li>
<li><a class="reference internal" href="#performance-and-correctness">Performance and Correctness</a></li>
<li><a class="reference internal" href="#debugging-experience">Debugging Experience</a></li>
<li><a class="reference internal" href="#credits">Credits</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="july-2022.html"
                          title="previous chapter">July 2022 Update</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="may-2022.html"
                          title="next chapter">May 2022 Update</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/monthly-updates/2022/june-2022.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="may-2022.html" title="May 2022 Update"
             >next</a> |</li>
        <li class="right" >
          <a href="july-2022.html" title="July 2022 Update"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Velox  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../monthly-updates.html" >Monthly Updates</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2022</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">June 2022 Update</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright TBD.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.2.0.
    </div>
  </body>
</html>