
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>June 2023 Update &#8212; Velox  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/nature.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="May 2023 Update" href="may-2023.html" />
    <link rel="prev" title="July 2023 Update" href="july-2023.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="may-2023.html" title="May 2023 Update"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="july-2023.html" title="July 2023 Update"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Velox  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../monthly-updates.html" >Monthly Updates</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2023</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">June 2023 Update</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="june-2023-update">
<h1>June 2023 Update<a class="headerlink" href="#june-2023-update" title="Permalink to this heading">¶</a></h1>
<section id="core-library">
<h2>Core Library<a class="headerlink" href="#core-library" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add MarkDistinct operator.</p></li>
<li><p>Add TopNRowNumber operator.</p></li>
<li><p>Add support for aggregations over sorted inputs: <cite>SELECT agg(x, ORDER BY y) FROM t</cite>.</p></li>
<li><p>Add join expression support to Nested Loop join.</p></li>
<li><p>Add serialization support for TableScanNode and TableWriteNode.</p></li>
<li><p>Add INTERVAL YEAR TO MONTH type.</p></li>
<li><p>Add basic support for writing bucketed tables.</p></li>
<li><p>Add support for UNKNOWN type to UnsafeRow serializer.</p></li>
</ul>
</section>
<section id="presto-functions">
<h2>Presto Functions<a class="headerlink" href="#presto-functions" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add <a class="reference internal" href="../../functions/presto/window.html#lead" title="lead"><code class="xref py py-func docutils literal notranslate"><span class="pre">lead()</span></code></a> and <a class="reference internal" href="../../functions/presto/window.html#lag" title="lag"><code class="xref py py-func docutils literal notranslate"><span class="pre">lag()</span></code></a> window functions.</p></li>
<li><p>Add <a class="reference internal" href="../../functions/presto/aggregate.html#set_agg" title="set_agg"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_agg()</span></code></a> and <a class="reference internal" href="../../functions/presto/aggregate.html#set_union" title="set_union"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_union()</span></code></a> aggregate functions.</p></li>
<li><p>Add <a class="reference internal" href="../../functions/presto/math.html#rand" title="rand"><code class="xref py py-func docutils literal notranslate"><span class="pre">rand()</span></code></a> alias for <a class="reference internal" href="../../functions/presto/math.html#random" title="random"><code class="xref py py-func docutils literal notranslate"><span class="pre">random()</span></code></a> function.</p></li>
<li><p>Add <code class="xref py py-func docutils literal notranslate"><span class="pre">array_trim()</span></code> function.</p></li>
<li><p>Add <a class="reference internal" href="../../functions/spark/array.html#flatten" title="flatten"><code class="xref py py-func docutils literal notranslate"><span class="pre">flatten()</span></code></a> function.</p></li>
<li><p>Add <a class="reference internal" href="../../functions/presto/aggregate.html#kurtosis" title="kurtosis"><code class="xref py py-func docutils literal notranslate"><span class="pre">kurtosis()</span></code></a> and <a class="reference internal" href="../../functions/presto/aggregate.html#skewness" title="skewness"><code class="xref py py-func docutils literal notranslate"><span class="pre">skewness()</span></code></a> functions.</p></li>
<li><p>Add <a class="reference internal" href="../../functions/presto/map.html#map_from_entries" title="map_from_entries"><code class="xref py py-func docutils literal notranslate"><span class="pre">map_from_entries()</span></code></a> function.</p></li>
<li><p>Add <a class="reference internal" href="../../functions/presto/json.html#json_extract" title="json_extract"><code class="xref py py-func docutils literal notranslate"><span class="pre">json_extract()</span></code></a> function.</p></li>
<li><p>Add <code class="xref py py-func docutils literal notranslate"><span class="pre">sum_data_size_for_stats</span> <span class="pre">aggregation()</span></code> function.</p></li>
<li><p>Add 3-argument version of <a class="reference internal" href="../../functions/presto/aggregate.html#min_by" title="min_by"><code class="xref py py-func docutils literal notranslate"><span class="pre">min_by()</span></code></a> and <a class="reference internal" href="../../functions/presto/aggregate.html#max_by" title="max_by"><code class="xref py py-func docutils literal notranslate"><span class="pre">max_by()</span></code></a> aggregate functions.</p></li>
<li><p>Add :func:<a href="#id1"><span class="problematic" id="id2">`</span></a>concat`(array(E), E) function.</p></li>
<li><p>Add support for inputs of type DECIMAL to <a class="reference internal" href="../../functions/presto/math.html#round" title="round"><code class="xref py py-func docutils literal notranslate"><span class="pre">round()</span></code></a> function.</p></li>
<li><p>Add support for inputs of type REAL in <a class="reference internal" href="../../functions/presto/comparison.html#least" title="least"><code class="xref py py-func docutils literal notranslate"><span class="pre">least()</span></code></a> and <a class="reference internal" href="../../functions/presto/comparison.html#greatest" title="greatest"><code class="xref py py-func docutils literal notranslate"><span class="pre">greatest()</span></code></a> functions.</p></li>
<li><p>Add support for inputs of type TIMESTAMP in <a class="reference internal" href="../../functions/presto/aggregate.html#min_by" title="min_by"><code class="xref py py-func docutils literal notranslate"><span class="pre">min_by()</span></code></a> and <a class="reference internal" href="../../functions/presto/aggregate.html#max_by" title="max_by"><code class="xref py py-func docutils literal notranslate"><span class="pre">max_by()</span></code></a> aggregate functions.</p></li>
<li><p>Add support for inputs of type VARCHAR in <a class="reference internal" href="../../functions/presto/aggregate.html#histogram" title="histogram"><code class="xref py py-func docutils literal notranslate"><span class="pre">histogram()</span></code></a> aggregate function.</p></li>
<li><p>Add support for input maps with VARCHAR keys in <a class="reference internal" href="../../functions/presto/aggregate.html#map_union_sum" title="map_union_sum"><code class="xref py py-func docutils literal notranslate"><span class="pre">map_union_sum()</span></code></a> aggregate function.</p></li>
<li><p>Add support for inputs of type UNKNOWN to <a class="reference internal" href="../../functions/presto/aggregate.html#map_union" title="map_union"><code class="xref py py-func docutils literal notranslate"><span class="pre">map_union()</span></code></a> aggregate function.</p></li>
<li><p>Fix <a class="reference internal" href="../../functions/presto/datetime.html#date_diff" title="date_diff"><code class="xref py py-func docutils literal notranslate"><span class="pre">date_diff()</span></code></a> function to allow case insensitive units.</p></li>
<li><p>Optimize <a class="reference internal" href="../../functions/presto/json.html#json_array_length" title="json_array_length"><code class="xref py py-func docutils literal notranslate"><span class="pre">json_array_length()</span></code></a> and <a class="reference internal" href="../../functions/presto/json.html#json_array_contains" title="json_array_contains"><code class="xref py py-func docutils literal notranslate"><span class="pre">json_array_contains()</span></code></a> functions using SIMD.</p></li>
</ul>
</section>
<section id="spark-functions">
<h2>Spark Functions<a class="headerlink" href="#spark-functions" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add <a class="reference internal" href="../../functions/spark/math.html#bin" title="bin"><code class="xref spark spark-func docutils literal notranslate"><span class="pre">bin()</span></code></a> function.</p></li>
<li><p>Add <a class="reference internal" href="../../functions/spark/datetime.html#last_day" title="last_day"><code class="xref spark spark-func docutils literal notranslate"><span class="pre">last_day()</span></code></a> function.</p></li>
<li><p>Add <a class="reference internal" href="../../functions/spark/string.html#overlay" title="overlay"><code class="xref spark spark-func docutils literal notranslate"><span class="pre">overlay()</span></code></a> function.</p></li>
<li><p>Add <a class="reference internal" href="../../functions/spark/bitwise.html#bit_count" title="bit_count"><code class="xref spark spark-func docutils literal notranslate"><span class="pre">bit_count()</span></code></a> and <a class="reference internal" href="../../functions/spark/bitwise.html#bit_get" title="bit_get"><code class="xref spark spark-func docutils literal notranslate"><span class="pre">bit_get()</span></code></a> functions.</p></li>
<li><p>Add <a class="reference internal" href="../../functions/spark/aggregate.html#id1" title="bloom_filter_agg"><code class="xref spark spark-func docutils literal notranslate"><span class="pre">bloom_filter_agg()</span></code></a> aggregate function.</p></li>
</ul>
</section>
<section id="performance-and-correctness">
<h2>Performance and Correctness<a class="headerlink" href="#performance-and-correctness" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Enable switch and dereference expressions in Fuzzer.</p></li>
</ul>
</section>
<section id="credits">
<h2>Credits<a class="headerlink" href="#credits" title="Permalink to this heading">¶</a></h2>
<p>Aditi Pandit, Amit Dutta, Ariel Ji, Arpit Porwal, Austin Dickey, Bikramjeet Vig,
Chengcheng Jin, Daniel Munoz, Darren Fu, David Vu, Deepak Majeti, Ge Gao,
Genevieve (Genna) Helsel, Huameng Jiang, Ivan Sadikov, Jalpreet Singh Nanda
(:imjalpreet), Jia Ke, Jialiang Tan, Jiayan Wei, Jimmy Lu, Karteek Murthy Samba
Murthy, Karteekmurthys, Ke, Kevin Wilfong, Krishna Pai, Laith Sakka, Lingfeng
Zhang, Masha Basmanova, Nick Terrell, Open Source Bot, Orri Erling, Patrick
Sullivan, Paul Amonson, Pedro Eugenio Rocha Pedreira, Pramod, Richard Barnes,
Sanjiban Sengupta, Serge Druzkin, Sergey Pershin, Shiyu Gan, Wei He, Yang
Zhang, Zac, duanmeng, joey.ljy, rui-mo, usurai, wanweiqiangintel, xiaoxmeng,
xiyu.zk, yangchuan, yingsu00, zhli1142015</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">June 2023 Update</a><ul>
<li><a class="reference internal" href="#core-library">Core Library</a></li>
<li><a class="reference internal" href="#presto-functions">Presto Functions</a></li>
<li><a class="reference internal" href="#spark-functions">Spark Functions</a></li>
<li><a class="reference internal" href="#performance-and-correctness">Performance and Correctness</a></li>
<li><a class="reference internal" href="#credits">Credits</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="july-2023.html"
                          title="previous chapter">July 2023 Update</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="may-2023.html"
                          title="next chapter">May 2023 Update</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/monthly-updates/2023/june-2023.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="may-2023.html" title="May 2023 Update"
             >next</a> |</li>
        <li class="right" >
          <a href="july-2023.html" title="July 2023 Update"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Velox  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../monthly-updates.html" >Monthly Updates</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2023</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">June 2023 Update</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright TBD.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.2.0.
    </div>
  </body>
</html>